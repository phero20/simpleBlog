<nav class="fixed top-0 w-full bg-gray-100 dark:bg-gray-950">
    <div class="max-w-screen-xl flex items-center justify-between mx-auto p-4">
        <!-- Logo & Site Name -->
        <div class="flex items-center rtl:space-x-reverse">
            <img src="https://flowbite.com/docs/images/logo.svg" class="h-4" alt="Flowbite Logo" />
            <span class="self-center text-lg font-medium whitespace-nowrap dark:text-white">Blog</span>
        </div>


        <div class="w-auto text-sm">
            <ul class="font-medium flex flex-row gap-2 sm:gap-4 md:gap-6">
                <li>
                    <a href="/" class="block text-black rounded-sm dark:text-white" aria-current="page">Home</a>
                </li>
                <% if(locals.user) { %>
                    <li>
                        <a href="/blog/addnew" class="block text-black rounded-sm dark:text-white"
                            aria-current="page">Add Blog</a>
                    </li>
                    <div class="flex items-center">
                        <div class="relative">
                            <button onclick="toggleDropdown()" class="flex items-center text-black dark:text-white">
                                <%= user.fullname %>
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg" class="stroke-current">
                                        <path d="M6 9L12 15L18 9" stroke-width="2" stroke-linecap="round"
                                            stroke-linejoin="round" />
                                    </svg>
                            </button>
                            <ul id="dropdownMenu"
                                class="hidden absolute rounded-md mt-1 right-0 w-40 z-50 bg-gray-200 dark:bg-gray-900">
                                <li><a href="/user/logout"
                                        class="block py-2 px-3 text-blue-700 hover:bg-gray-200">Logout</a></li>
                            </ul>
                        </div>
                        <img src="<%= user.profileimageurl %>" class="w-4 h-4 rounded-full object-cover ml-2"
                            alt="User Profile">

                    </div>

                    <% } else { %>
                        <li>
                            <a href="/user/signin" class="block text-black rounded-sm dark:text-white"
                                aria-current="page">Signin</a>
                        </li>
                        <li>
                            <a href="/user/signup" class="block text-black rounded-sm dark:text-white"
                                aria-current="page">Signup</a>
                        </li>
                        <% } %>


            </ul>
        </div>
    </div>

    <% if (typeof locals.error !=="undefined" && locals.error) { %>
        <div class="p-4 text-sm text-center text-red-800 rounded-lg bg-red-200 dark:bg-gray-800 dark:text-red-400 m-6 mx-10"
            role="alert">
            <span class="font-medium">
                <%= locals.error %>
            </span>
        </div>
        <% } %>
</nav>

<script>
    function toggleDropdown() {
        document.getElementById("dropdownMenu").classList.toggle("hidden");
    }
</script>